{% extends "base.html" %}

{% block title %}Heart Disease Prediction - Medical Diagnosis Assistant{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <h1 class="text-center mb-4">Heart Disease Prediction</h1>
        
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">Enter Patient Information</h3>
            </div>
            <div class="card-body">
                <form id="heartForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="age" class="form-label">Age</label>
                                <input type="number" class="form-control" id="age" name="age" min="0" max="120" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="sex" class="form-label">Sex</label>
                                <select class="form-select" id="sex" name="sex" required>
                                    <option value="">Select</option>
                                    <option value="0">Female</option>
                                    <option value="1">Male</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="cp" class="form-label">Chest Pain Type</label>
                                <select class="form-select" id="cp" name="cp" required>
                                    <option value="">Select</option>
                                    <option value="0">Typical Angina</option>
                                    <option value="1">Atypical Angina</option>
                                    <option value="2">Non-anginal Pain</option>
                                    <option value="3">Asymptomatic</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="trestbps" class="form-label">Resting Blood Pressure (mm Hg)</label>
                                <input type="number" class="form-control" id="trestbps" name="trestbps" min="0" max="200" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="chol" class="form-label">Cholesterol (mg/dl)</label>
                                <input type="number" class="form-control" id="chol" name="chol" min="0" max="600" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="fbs" class="form-label">Fasting Blood Sugar > 120 mg/dl</label>
                                <select class="form-select" id="fbs" name="fbs" required>
                                    <option value="">Select</option>
                                    <option value="0">No</option>
                                    <option value="1">Yes</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="restecg" class="form-label">Resting ECG Results</label>
                                <select class="form-select" id="restecg" name="restecg" required>
                                    <option value="">Select</option>
                                    <option value="0">Normal</option>
                                    <option value="1">ST-T Wave Abnormality</option>
                                    <option value="2">Left Ventricular Hypertrophy</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="thalach" class="form-label">Maximum Heart Rate Achieved</label>
                                <input type="number" class="form-control" id="thalach" name="thalach" min="0" max="250" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="exang" class="form-label">Exercise Induced Angina</label>
                                <select class="form-select" id="exang" name="exang" required>
                                    <option value="">Select</option>
                                    <option value="0">No</option>
                                    <option value="1">Yes</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="oldpeak" class="form-label">ST Depression Induced by Exercise</label>
                                <input type="number" step="0.1" class="form-control" id="oldpeak" name="oldpeak" min="0" max="10" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="slope" class="form-label">Slope of Peak Exercise ST Segment</label>
                                <select class="form-select" id="slope" name="slope" required>
                                    <option value="">Select</option>
                                    <option value="0">Upsloping</option>
                                    <option value="1">Flat</option>
                                    <option value="2">Downsloping</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="ca" class="form-label">Number of Major Vessels (0-3)</label>
                                <input type="number" class="form-control" id="ca" name="ca" min="0" max="3" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="thal" class="form-label">Thalassemia</label>
                                <select class="form-select" id="thal" name="thal" required>
                                    <option value="">Select</option>
                                    <option value="0">Normal</option>
                                    <option value="1">Fixed Defect</option>
                                    <option value="2">Reversible Defect</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">Predict Heart Disease Risk</button>
                    </div>
                </form>
                
                <div id="result" class="mt-4" style="display: none;">
                    <div class="alert alert-info">
                        <h4 class="alert-heading">Prediction Result</h4>
                        <p id="predictionText"></p>
                    </div>
                </div>
                
                <div id="error" class="mt-4" style="display: none;">
                    <div class="alert alert-danger">
                        <h4 class="alert-heading">Error</h4>
                        <p id="errorText"></p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header bg-light">
                <h3 class="mb-0">About This Tool</h3>
            </div>
            <div class="card-body">
                <p>This heart disease prediction tool uses machine learning to assess the risk of heart disease based on clinical parameters. The model analyzes factors such as cholesterol levels, blood pressure, ECG results, and other health indicators to provide a prediction.</p>
                <p><strong>Note:</strong> This tool is for educational purposes only and should not be used as a substitute for professional medical advice.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}